{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///./ConfigEditor.tsx","webpack:///./DataSource.ts","webpack:///./QueryEditor.tsx","webpack:///./components/FilterEntry.tsx","webpack:///./module.ts","webpack:///external \"@grafana/data\"","webpack:///external \"@grafana/ui\"","webpack:///external \"react\""],"names":[],"mappings":"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","file":"module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./module.ts\");\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import React, { PureComponent, ChangeEvent } from 'react';\nimport { MyDataSourceOptions } from './types';\nimport { FormField } from '@grafana/ui';\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\n\ninterface MyProps extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions> {}\n\ninterface State {}\n\nexport class ConfigEditor extends PureComponent<MyProps, State> {\n  componentDidMount() {}\n\n  onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const jsonData = {\n      ...options.jsonData,\n      apiKey: event.target.value,\n    };\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  onURLChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const jsonData = {\n      ...options.jsonData,\n      url: event.target.value,\n    };\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData } = options;\n\n    return (\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form\">\n          <FormField\n            label=\"URL\"\n            inputWidth={24}\n            labelWidth={6}\n            onChange={this.onURLChange}\n            value={jsonData.url || ''}\n            placeholder=\"https://aam.iotopen.se\"\n          />\n        </div>\n        <div className=\"gf-form\">\n          <FormField\n            label=\"API Key\"\n            inputWidth={24}\n            labelWidth={6}\n            onChange={this.onAPIKeyChange}\n            value={jsonData.apiKey || ''}\n            placeholder=\"Your API key\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import { FunctionX, LogResult, MyDataSourceOptions, MyQuery } from './types';\nimport {\n  DataQueryRequest,\n  DataQueryResponse,\n  DataSourceApi,\n  DataSourceInstanceSettings,\n  DefaultTimeRange,\n  TableData,\n  TimeSeries,\n} from '@grafana/data';\n\nexport class DataSource extends DataSourceApi<MyQuery, MyDataSourceOptions> {\n  private settings: DataSourceInstanceSettings<MyDataSourceOptions>;\n\n  constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n    super(instanceSettings);\n    this.settings = instanceSettings;\n  }\n\n  distinctiveId(input: FunctionX[]): FunctionX[] {\n    const tag = new Map<number, boolean>();\n    return input.filter(fn => {\n      if (tag.get(fn.id) === undefined) {\n        tag.set(fn.id, true);\n        return true;\n      }\n      return false;\n    });\n  }\n\n  fetchInstallations(): Promise<any> {\n    return fetch(this.settings.jsonData.url + '/api/v2/installationinfo/grafana/ds', {\n      headers: {\n        Authorization: 'Basic ' + btoa('grafana:' + this.settings.jsonData.apiKey),\n      },\n    }).then(result => result.json());\n  }\n\n  fetchFunctions(installationId: number): Promise<any> {\n    return fetch(this.settings.jsonData.url + '/api/v2/functionx/' + installationId, {\n      headers: {\n        Authorization: 'Basic ' + btoa('grafana:' + this.settings.jsonData.apiKey),\n      },\n    }).then(result => result.json());\n  }\n\n  fetchFilteredFunctions(installationId: number, filter: any): Promise<FunctionX[]> {\n    const queryParams = filter\n      .map(entry => {\n        return encodeURIComponent(entry.key) + '=' + encodeURIComponent(entry.value);\n      })\n      .join('&');\n    return fetch(this.settings.jsonData.url + '/api/v2/functionx/' + installationId + '?' + queryParams, {\n      headers: {\n        Authorization: 'Basic ' + btoa('grafana:' + this.settings.jsonData.apiKey),\n      },\n    }).then(result => result.json());\n  }\n\n  createLogTopicMappings(clientId: number, functions: FunctionX[]): Map<string, FunctionX[]> {\n    const fmap: Map<string, FunctionX[]> = new Map();\n    functions.map(fn => {\n      if (fn.meta['topic_read'] === null) {\n        return;\n      }\n      const topicRead = String(clientId) + '/' + fn.meta['topic_read'];\n      if (fmap[topicRead] != null) {\n        fmap[topicRead].push(fn);\n      } else {\n        fmap.set(topicRead, [fn]);\n      }\n    });\n    return fmap;\n  }\n\n  fetchLog(installationId: number, from: number, to: number, offset: number, topics?: string[]): Promise<LogResult> {\n    const url = this.settings.jsonData.url + '/api/v3beta/log/' + String(installationId);\n    const queryParams = {\n      from: String(from),\n      to: String(to),\n      offset: String(offset),\n      order: 'asc',\n    };\n    if (topics) {\n      queryParams['topics'] = topics.join(',');\n    }\n    const queryString =\n      '?' +\n      Object.keys(queryParams)\n        .map(key => encodeURIComponent(key) + '=' + encodeURIComponent(queryParams[key]))\n        .join('&');\n    return fetch(url + queryString, {\n      headers: {\n        Authorization: 'Basic ' + btoa('grafana:' + this.settings.jsonData.apiKey),\n      },\n    })\n      .then(result => result.json())\n      .then(obj => {\n        return obj as LogResult;\n      });\n  }\n\n  async fetchLogFull(installationId: number, from: number, to: number, topics: string[]): Promise<LogResult[]> {\n    const results = new Array<LogResult>();\n    let offset = 0;\n    while (true) {\n      const logResult = await this.fetchLog(installationId, from / 1000, to / 1000, offset, topics);\n      results.push(logResult);\n      offset += logResult.count;\n      if (offset >= logResult.total) {\n        break;\n      }\n    }\n    return results;\n  }\n\n  async fetchQueriedFunctions(target: MyQuery): Promise<FunctionX[]> {\n    let functions = await this.fetchFilteredFunctions(target.installationId, target.meta);\n    if (target.messageFrom !== '') {\n      const messageMeta = [{ key: 'type', value: target.messageFrom }];\n      for (const originalFilter of target.meta) {\n        if (originalFilter.key !== 'type') {\n          messageMeta.push(originalFilter);\n        }\n      }\n      const tmp = await this.fetchFilteredFunctions(target.installationId, messageMeta);\n      for (const fn of tmp) {\n        functions.push(fn);\n      }\n    }\n    functions = this.distinctiveId(functions);\n    return functions;\n  }\n\n  async queryTimeSeries(target: MyQuery, from: number, to: number): Promise<TimeSeries[] | null> {\n    const seriesList: TimeSeries[] = [];\n    const targetDatapoints = new Map<string, number[][]>();\n\n    const functions = await this.fetchFilteredFunctions(target.installationId, target.meta);\n    const mappings = this.createLogTopicMappings(target.clientId, functions);\n    const topics = Array.from(mappings.keys());\n    if (topics.length === 0) {\n      return null;\n    }\n    const results = await this.fetchLogFull(target.installationId, from, to, topics);\n\n    let groupBy = 'name';\n    if (target.groupBy !== '') {\n      groupBy = target.groupBy;\n    }\n\n    for (const logResult of results) {\n      for (const logEntry of logResult.data) {\n        const matchingFunctions = mappings.get(logEntry.topic);\n        if (matchingFunctions === undefined) {\n          continue;\n        }\n        for (const matchingFunction of matchingFunctions) {\n          const name = matchingFunction.meta[groupBy];\n          let dps = targetDatapoints.get(name);\n          if (dps === undefined) {\n            dps = [];\n            targetDatapoints.set(name, dps);\n          }\n          dps.push([logEntry.value, logEntry.timestamp * 1000]);\n        }\n      }\n    }\n    targetDatapoints.forEach((value, key) => {\n      const dp: TimeSeries = {\n        refId: target.refId,\n        target: key,\n        datapoints: value,\n      };\n      seriesList.push(dp);\n    });\n\n    return seriesList;\n  }\n\n  async queryTableData(target: MyQuery, from: number, to: number): Promise<TableData[] | null> {\n    const targetData: TableData[] = [];\n    const targetDatapoints = new Map<string, any[][]>();\n\n    const functions = await this.fetchQueriedFunctions(target);\n    const mappings = this.createLogTopicMappings(target.clientId, functions);\n    const topics = Array.from(mappings.keys());\n    if (topics.length === 0) {\n      return null;\n    }\n    const results = await this.fetchLogFull(target.installationId, from, to, topics);\n\n    let groupBy = target.groupBy;\n    if (groupBy === '') {\n      groupBy = 'name';\n    }\n\n    const lastMsg = new Map<string, string>();\n    for (const logResult of results) {\n      for (const logEntry of logResult.data) {\n        const matchingFunctions = mappings.get(logEntry.topic);\n        if (matchingFunctions === undefined) {\n          continue;\n        }\n        for (const matchingFunction of matchingFunctions) {\n          if (target.messageFrom !== '') {\n            if (matchingFunction.type === target.messageFrom) {\n              lastMsg.set(matchingFunction.meta['device_id'], logEntry.msg);\n              continue;\n            }\n          }\n          let msg = logEntry.msg;\n          if (target.messageFrom !== '') {\n            const tmpMsg = lastMsg.get(matchingFunction.meta['device_id']);\n            if (tmpMsg !== undefined) {\n              msg = tmpMsg;\n            } else {\n              continue;\n            }\n          }\n          let name = matchingFunction.meta[groupBy];\n          if (name === undefined) {\n            name = msg;\n          }\n          let dps = targetDatapoints.get(name);\n          if (dps === undefined) {\n            dps = [];\n            targetDatapoints.set(name, dps);\n          }\n          const dat = new Date(logEntry.timestamp * 1000);\n          dps.push([dat.toISOString(), matchingFunction.meta['name'], logEntry.value, msg]);\n        }\n      }\n    }\n    targetDatapoints.forEach((value, key) => {\n      console.log(key);\n      const dp: TableData = {\n        name: key,\n        columns: [{ text: 'Time' }, { text: 'name' }, { text: 'value' }, { text: 'msg' }],\n        rows: value,\n        refId: target.refId,\n      };\n      targetData.push(dp);\n    });\n    console.log(targetData);\n    return targetData;\n  }\n\n  async query(options: DataQueryRequest<MyQuery>): Promise<DataQueryResponse> {\n    let { range } = options;\n    if (range == null) {\n      range = DefaultTimeRange;\n    }\n    const from = range.from.valueOf();\n    const to = range.to.valueOf();\n    const targets = options.targets.filter(target => !target.hide);\n\n    const response: DataQueryResponse = {\n      data: [],\n    };\n\n    const jobs: Array<Promise<any[] | null>> = [];\n    for (const target of targets) {\n      if (target.tabledata) {\n        const job = this.queryTableData(target, from, to);\n        jobs.push(job);\n      } else {\n        const job = this.queryTimeSeries(target, from, to);\n        jobs.push(job);\n      }\n    }\n    const data = await Promise.all(jobs);\n    for (const series of data) {\n      if (series === null) {\n        continue;\n      }\n      for (const serie of series) {\n        response.data.push(serie);\n      }\n    }\n    return response;\n  }\n\n  testDatasource() {\n    // Implement a health check for your data source.\n    return new Promise((resolve, reject) => {\n      fetch(this.settings.jsonData.url + '/api/v2/installationinfo/grafana/ds', {\n        headers: {\n          Authorization: 'Basic ' + btoa('grafana:' + this.settings.jsonData.apiKey),\n        },\n      })\n        .then(value => {\n          if (!(value.status === 200)) {\n            throw new Error(value.statusText);\n          }\n          return value.json();\n        })\n        .then(value => {\n          resolve({ status: 'success', message: 'All good!' });\n        })\n        .catch(reason => {\n          reject({ status: 'error', message: reason.message });\n        });\n    });\n  }\n}\n","import React, { PureComponent, ChangeEvent } from 'react';\nimport { DataSource } from './DataSource';\nimport { MyQuery, MyDataSourceOptions } from './types';\nimport { FilterEntry } from './components/FilterEntry';\nimport { QueryEditorProps } from '@grafana/data';\nimport { Button, FormField, FormLabel, Switch } from '@grafana/ui';\n\ntype Props = QueryEditorProps<DataSource, MyQuery, MyDataSourceOptions>;\n\ninterface State {\n  installations: any[];\n  functions: any[];\n  ticker: any;\n}\n\nexport class QueryEditor extends PureComponent<Props, State> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      installations: [],\n      functions: [],\n      ticker: null,\n    };\n  }\n\n  getClientIdByInstallation(installationId: number): number {\n    for (const installation of this.state.installations) {\n      if (installation.id === installationId) {\n        return installation.client_id;\n      }\n    }\n    return 0;\n  }\n\n  componentDidMount(): void {\n    this.props.datasource.fetchInstallations().then(installations => {\n      this.setState({ installations: installations });\n    });\n  }\n\n  onSelectInstallation = (event: ChangeEvent<HTMLSelectElement>) => {\n    const { onChange, query } = this.props;\n    const target = Number(event.target.value);\n    onChange({ ...query, installationId: target, clientId: this.getClientIdByInstallation(target) });\n    this.props.datasource.fetchFunctions(Number(event.target.value)).then(functions => {\n      this.setState({ functions: functions });\n    });\n    this.props.onRunQuery();\n  };\n\n  addFilter = () => {\n    const { onChange, query } = this.props;\n    query.meta.push({ key: '', value: '' });\n    onChange({ ...query, meta: query.meta });\n  };\n\n  onMetaDelete = idx => {\n    const { onChange, query } = this.props;\n    query.meta = query.meta.filter((value, fidx) => {\n      return !(idx === fidx);\n    });\n    onChange({ ...query, meta: query.meta });\n    this.props.onRunQuery();\n  };\n\n  onMetaUpdate = (idx: number, key: string, value: string) => {\n    const { onChange, query } = this.props;\n    query.meta[idx].key = key;\n    query.meta[idx].value = value;\n    onChange({ ...query, meta: query.meta });\n    this.onRunQuery();\n  };\n\n  onDatatable = (): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, tabledata: !query.tabledata });\n    this.props.onRunQuery();\n  };\n\n  onRunQuery() {\n    if (this.state.ticker) {\n      clearTimeout(this.state.ticker);\n      const tmp = setTimeout(() => {\n        this.props.onRunQuery();\n      }, 250);\n      this.setState({ ticker: tmp });\n    } else {\n      const tmp = setTimeout(() => {\n        this.props.onRunQuery();\n      }, 250);\n      this.setState({ ticker: tmp });\n    }\n  }\n\n  onMessageChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, messageFrom: event.target.value });\n    this.onRunQuery();\n  };\n\n  onGroupByChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, groupBy: event.target.value });\n    this.onRunQuery();\n  };\n\n  render() {\n    const query = this.props.query as MyQuery;\n    if (query.meta == null) {\n      query.meta = [{ key: 'type', value: '' }];\n      query.groupBy = 'name';\n    }\n\n    return (\n      <div>\n        <div className={'gf-form-inline'}>\n          <FormLabel className={'query-keyword'}>Installation</FormLabel>\n          <select onChange={this.onSelectInstallation} style={{ width: 330 }}>\n            <option value={0}>Select installation</option>\n            {this.state.installations.map(value => {\n              const selected = query.installationId === value.id;\n              return (\n                <option value={value.id} selected={selected}>\n                  {value.name}\n                </option>\n              );\n            })}\n          </select>\n        </div>\n        {query.meta.map((value, idx) => {\n          return <FilterEntry idx={idx} data={value} onDelete={this.onMetaDelete} onUpdate={this.onMetaUpdate} />;\n        })}\n        <div className={'gf-form-inline'}>\n          <Button onClick={this.addFilter}>Add filter</Button>\n          <Switch label={'Table data'} checked={query.tabledata} onChange={this.onDatatable} />\n        </div>\n        <div className={'gf-form-inline'}>\n          <FormField labelWidth={40} label={'Group by'} onChange={this.onGroupByChange} value={query.groupBy} />\n          <FormField labelWidth={40} label={'Message from'} onChange={this.onMessageChange} value={query.messageFrom} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Button, Input } from '@grafana/ui';\n\ntype onDeleteFunction = (idx: number) => void;\ntype onUpdateFunction = (idx: number, key: string, value: string) => void;\n\ninterface FilterEntryProps {\n  data: any;\n  idx: number;\n  onDelete: onDeleteFunction;\n  onUpdate: onUpdateFunction;\n}\n\nexport class FilterEntry extends PureComponent<FilterEntryProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  shouldComponentUpdate(nextProps: Readonly<FilterEntryProps>, nextState: Readonly<{}>, nextContext: any): boolean {\n    return true;\n  }\n\n  onChangeKey = event => {\n    this.props.onUpdate(this.props.idx, event.currentTarget.value, this.props.data.value);\n  };\n\n  onChangeValue = event => {\n    this.props.onUpdate(this.props.idx, this.props.data.key, event.currentTarget.value);\n  };\n\n  onDelete = event => {\n    this.props.onDelete(this.props.idx);\n  };\n\n  render() {\n    return (\n      <div className={'gf-form-inline'}>\n        <div className={'gf-form'}>\n          <span className={'gf-form-label query-keyword'}>key</span>\n          <Input type={'text'} style={{ width: 150 }} value={this.props.data.key} onChange={this.onChangeKey} />\n          <span className={'gf-form-label query-keyword'}>match</span>\n          <Input type={'text'} style={{ width: 150 }} value={this.props.data.value} onChange={this.onChangeValue} />\n          <Button variant={'danger'} onClick={this.onDelete}>\n            X\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n","import { DataSource } from './DataSource';\nimport { ConfigEditor } from './ConfigEditor';\nimport { QueryEditor } from './QueryEditor';\nimport { MyQuery, MyDataSourceOptions } from './types';\nimport { DataSourcePlugin } from '@grafana/data';\n\nexport const plugin = new DataSourcePlugin<DataSource, MyQuery, MyDataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_data__;","module.exports = __WEBPACK_EXTERNAL_MODULE__grafana_ui__;","module.exports = __WEBPACK_EXTERNAL_MODULE_react__;"],"sourceRoot":""}