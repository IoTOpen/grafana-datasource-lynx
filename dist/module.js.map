{"version":3,"file":"module.js","mappings":"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","sources":["webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"react\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./DataSource.ts","webpack:///./ConfigEditor.tsx","webpack:///./components/FilterEntry.tsx","webpack:///./QueryEditor.tsx","webpack:///./module.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__305__;","module.exports = __WEBPACK_EXTERNAL_MODULE__545__;","module.exports = __WEBPACK_EXTERNAL_MODULE__388__;","module.exports = __WEBPACK_EXTERNAL_MODULE__650__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {DataQueryRequest, DataQueryResponse, DataSourceInstanceSettings} from '@grafana/data';\nimport {DataSourceWithBackend, getBackendSrv, getTemplateSrv} from '@grafana/runtime';\nimport {FunctionX, Installation, MyDataSourceOptions, MyQuery} from './types';\nimport {Observable} from 'rxjs';\nexport class DataSource extends DataSourceWithBackend<MyQuery, MyDataSourceOptions> {\n    private settings: DataSourceInstanceSettings<MyDataSourceOptions>;\n\n    constructor(instanceSettings: DataSourceInstanceSettings<MyDataSourceOptions>) {\n        super(instanceSettings);\n        this.settings = instanceSettings;\n    }\n\n    fetchInstallations(): Promise<Installation[]> {\n        return getBackendSrv()\n            .datasourceRequest({\n                method: 'GET',\n                url: `${this.settings.url}/api/v2/installationinfo`,\n            })\n            .then(result => result.data);\n    }\n\n    fetchFunctions(installationId: number): Promise<FunctionX[]> {\n        return getBackendSrv()\n            .datasourceRequest({\n                method: 'GET',\n                url: `${this.settings.url}/api/v2/functionx/${installationId}`,\n            })\n            .then(result => result.data as FunctionX[]);\n    }\n\n    testDatasource() {\n        return new Promise((resolve, reject) => {\n            getBackendSrv()\n                .datasourceRequest({\n                    method: 'GET',\n                    url: `${this.settings.url}/api/v2/installationinfo`,\n                })\n                .then(result => {\n                    resolve({status: 'success', message: 'All good!'});\n                })\n                .catch(err => {\n                    reject({status: 'error', message: err.statusText});\n                });\n        });\n    }\n\n    query(options: DataQueryRequest<MyQuery>): Observable<DataQueryResponse> {\n        const templateSrv = getTemplateSrv();\n        const targets = options.targets.map(value => {\n            return {\n                ...value, meta: value.meta.map(meta => {\n                    return {\n                        key: templateSrv.replace(meta.key),\n                        value: templateSrv.replace(meta.value),\n                    }\n                })\n            }\n        });\n        return super.query({...options, targets});\n    }\n}\n","import React, { PureComponent, ChangeEvent } from 'react';\nimport { MyDataSourceOptions } from './types';\nimport { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { LegacyForms } from '@grafana/ui';\nconst { FormField } = LegacyForms;\n\ninterface MyProps extends DataSourcePluginOptionsEditorProps<MyDataSourceOptions> {}\n\ninterface State {}\n\nexport class ConfigEditor extends PureComponent<MyProps, State> {\n  componentDidMount() {}\n\n  onAPIKeyChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const jsonData = {\n      ...options.jsonData,\n      apiKey: event.target.value,\n    };\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  onURLChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { onOptionsChange, options } = this.props;\n    const jsonData = {\n      ...options.jsonData,\n      url: event.target.value,\n    };\n    onOptionsChange({ ...options, jsonData });\n  };\n\n  render() {\n    const { options } = this.props;\n    const { jsonData } = options;\n\n    return (\n      <div className=\"gf-form-group\">\n        <div className=\"gf-form\">\n          <FormField\n            label=\"URL\"\n            inputWidth={24}\n            labelWidth={6}\n            onChange={this.onURLChange}\n            value={jsonData.url || ''}\n            placeholder=\"https://lynx.iotopen.se\"\n          />\n        </div>\n        <div className=\"gf-form\">\n          <FormField\n            label=\"API Key\"\n            inputWidth={24}\n            labelWidth={6}\n            onChange={this.onAPIKeyChange}\n            value={jsonData.apiKey || ''}\n            placeholder=\"Your API key\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { Button, Select } from '@grafana/ui';\nimport { SelectableValue } from '@grafana/data';\n\ntype onDeleteFunction = (idx: number) => void;\ntype onUpdateFunction = (idx: number, key: string, value: string) => void;\n\ninterface FilterEntryProps {\n  data: any;\n  idx: number;\n  onDelete: onDeleteFunction;\n  onUpdate: onUpdateFunction;\n  keys?: string[];\n  values?: string[];\n}\n\nexport class FilterEntry extends PureComponent<FilterEntryProps> {\n  constructor(props: FilterEntryProps) {\n    super(props);\n  }\n\n  shouldComponentUpdate(nextProps: Readonly<FilterEntryProps>, nextState: Readonly<{}>, nextContext: any): boolean {\n    return true;\n  }\n\n  onChangeKey = (event: any) => {\n    if (typeof event === typeof '') {\n      this.props.onUpdate(this.props.idx, event, this.props.data.value);\n    } else {\n      this.props.onUpdate(this.props.idx, event.label, this.props.data.value);\n    }\n  };\n\n  onChangeValue = (event: any) => {\n    console.log(event);\n    if (typeof event === typeof '') {\n      this.props.onUpdate(this.props.idx, this.props.data.key, event);\n    } else {\n      this.props.onUpdate(this.props.idx, this.props.data.key, event.value);\n    }\n  };\n\n  onDelete = () => {\n    this.props.onDelete(this.props.idx);\n  };\n\n  render() {\n    const keys: SelectableValue[] = [];\n    const values: SelectableValue[] = [];\n    if (this.props.keys) {\n      for (const x of this.props.keys) {\n        keys.push({ label: x, value: x });\n      }\n    }\n\n    if (this.props.values) {\n      for (const x of this.props.values) {\n        values.push({ label: x, value: x });\n      }\n    }\n\n    return (\n      <div className={'gf-form-inline'}>\n        <div className={'gf-form'}>\n          <span className={'gf-form-label query-keyword'}>key</span>\n          <Select\n            width={30}\n            options={keys}\n            onChange={this.onChangeKey}\n            onCreateOption={this.onChangeKey}\n            value={{ label: this.props.data.key, value: this.props.data.key }}\n            isSearchable={true}\n            allowCustomValue={true}\n            menuPlacement={'bottom'}\n            placeholder={'meta key'}\n          />\n          <span className={'gf-form-label query-keyword'}>match</span>\n          <Select\n            width={30}\n            options={values}\n            onChange={this.onChangeValue}\n            onCreateOption={this.onChangeValue}\n            value={{ label: this.props.data.value, value: this.props.data.value }}\n            isSearchable={true}\n            allowCustomValue={true}\n            menuPlacement={'bottom'}\n            placeholder={'wildcard match'}\n          />\n          <Button variant={'destructive'} onClick={this.onDelete}>\n            X\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\n//<Select width={30} options={keys} onChange={this.onChangeKey}  value={{label: this.props.data.key}} onCreateOption={this.onChangeKey} isSearchable={true} allowCustomValue={true} />\n//<span className={'gf-form-label query-keyword'}>match</span>\n//<Select width={30} options={values} onChange={this.onChangeValue} value={{label: this.props.data.value}} onCreateOption={this.onChangeValue} isSearchable={true} allowCustomValue={true} />\n\n//<Input type={'text'} style={{ width: 150 }} value={this.props.data.key} onChange={this.onChangeKey} />\n//<span className={'gf-form-label query-keyword'}>match</span>\n//<Input type={'text'} style={{ width: 150 }} value={this.props.data.value} onChange={this.onChangeValue} />\n","import React, { PureComponent, ChangeEvent } from 'react';\nimport { DataSource } from './DataSource';\nimport { MyQuery, MyDataSourceOptions, Installation, FunctionX } from './types';\nimport { FilterEntry } from './components/FilterEntry';\nimport { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { LegacyForms, Button, Select } from '@grafana/ui';\n\nconst { FormField, Switch } = LegacyForms;\n\ntype Props = QueryEditorProps<DataSource, MyQuery, MyDataSourceOptions>;\n\ninterface State {\n  installations: Installation[];\n  functions: FunctionX[];\n  ticker: any;\n  selectedInstallation: SelectableValue<Installation>;\n  loadingInstallations: boolean;\n}\n\nexport class QueryEditor extends PureComponent<Props, State> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      installations: [],\n      functions: [],\n      selectedInstallation: { value: { id: 0, name: '', client_id: 0 } },\n      ticker: null,\n      loadingInstallations: true,\n    };\n  }\n\n  componentDidMount(): void {\n    this.props.datasource.fetchInstallations().then(installations => {\n      let selectedInstallation = { id: 0, client_id: 0, name: '' };\n      if (installations.length > 0) {\n        selectedInstallation = installations[0];\n      }\n      if (this.props.query.installationId !== 0) {\n        const tmp = installations.find(i => i.id === this.props.query.installationId);\n        if (tmp !== undefined) {\n          selectedInstallation = tmp;\n        }\n      }\n      this.onSelectInstallation({ value: selectedInstallation });\n      this.setState({\n        installations: installations,\n        loadingInstallations: false,\n        selectedInstallation: { value: selectedInstallation },\n      });\n    });\n  }\n\n  onSelectInstallation = (selected: SelectableValue<Installation>) => {\n    const { onChange, query } = this.props;\n    if (selected.value == null) {\n      return;\n    }\n    this.setState({ selectedInstallation: selected });\n    onChange({ ...query, installationId: selected.value.id, clientId: selected.value.client_id });\n    this.props.datasource.fetchFunctions(Number(selected.value.id)).then(functions => {\n      if (selected.value !== undefined) {\n        if (this.state.selectedInstallation.value === selected.value) {\n          this.setState({ functions: functions, selectedInstallation: selected });\n          this.props.onRunQuery();\n        }\n      }\n    });\n  };\n\n  addFilter = () => {\n    const { onChange, query } = this.props;\n    query.meta.push({ key: '', value: '' });\n    onChange({ ...query, meta: query.meta });\n  };\n\n  onMetaDelete = (idx: number) => {\n    const { onChange, query } = this.props;\n    query.meta = query.meta.filter((value, fidx) => {\n      return !(idx === fidx);\n    });\n    onChange({ ...query, meta: query.meta });\n    this.props.onRunQuery();\n  };\n\n  onMetaUpdate = (idx: number, key: string, value: string) => {\n    const { onChange, query } = this.props;\n    query.meta[idx].key = key;\n    query.meta[idx].value = value;\n    onChange({ ...query, meta: query.meta });\n    this.onRunQuery();\n  };\n\n  onRunQuery() {\n    if (this.state.ticker) {\n      clearTimeout(this.state.ticker);\n      const tmp = setTimeout(() => {\n        this.props.onRunQuery();\n      }, 250);\n      this.setState({ ticker: tmp });\n    } else {\n      const tmp = setTimeout(() => {\n        this.props.onRunQuery();\n      }, 250);\n      this.setState({ ticker: tmp });\n    }\n  }\n\n  onMessageChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, messageFrom: event.target.value });\n    this.onRunQuery();\n  };\n\n  onGroupByChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, groupBy: event.target.value });\n    this.onRunQuery();\n  };\n\n  onNameByChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, nameBy: event.target.value });\n    this.onRunQuery();\n  };\n\n  onLinkChange = (event: ChangeEvent<HTMLInputElement>): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, linkKey: event.target.value });\n    this.onRunQuery();\n  };\n\n  onStateOnlyChange = (): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, stateOnly: !query.stateOnly });\n    this.props.onRunQuery();\n  };\n\n  onDatatable = (): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, tabledata: !query.tabledata });\n    this.props.onRunQuery();\n  };\n\n  onMetaAsFields = (): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, metaAsFields: !query.metaAsFields });\n    this.props.onRunQuery();\n  };\n\n  onDeviceMetaJoin = (): void => {\n    const { onChange, query } = this.props;\n    onChange({ ...query, joinDeviceMeta: !query.joinDeviceMeta });\n    this.props.onRunQuery();\n  };\n\n  tooltipGroupBy = (\n    <>\n      Group series by some meta key or payload <code>msg</code> field. Defaults to Function ID.\n    </>\n  );\n  tooltipNameBy = (\n    <>\n      This will name series based on some meta key.\n      <br />\n      Defaults to <code>name</code>.\n    </>\n  );\n  tooltipMessageFrom = (\n    <>\n      Using this field will join matching functions with the same filter, but the type changed to this field. The msg\n      field will be overwritten by messages matching this type, linked through <code>device_id</code> meta key. Useful\n      for eg. joining positional data. <br />\n      This field is only applied on table data.\n    </>\n  );\n\n  getInstallationOptionLabel(input: SelectableValue<Installation>): string {\n    if (input.value == null) {\n      return '';\n    }\n    return input.value.name;\n  }\n\n  getMetaKeys(): string[] {\n    const res: string[] = ['id', 'type'];\n\n    for (const func of this.state.functions) {\n      for (const metaKey in func.meta) {\n        if (res.indexOf(metaKey) === -1) {\n          res.push(metaKey);\n        }\n      }\n    }\n\n    return res;\n  }\n\n  getMetaValues(key: string): string[] {\n    const res: string[] = [];\n\n    for (const func of this.state.functions) {\n      let value = func.meta[key];\n      if (key === 'type') {\n        value = func.type;\n      }\n      if (key === 'id') {\n        value = func.id.toString();\n      }\n      if (value && res.indexOf(value) === -1) {\n        res.push(value);\n      }\n    }\n\n    return res;\n  }\n\n  render() {\n    const query = this.props.query as MyQuery;\n    if (query.meta == null) {\n      query.installationId = 0;\n      query.clientId = 0;\n      query.meta = [{ key: 'type', value: '' }];\n    }\n\n    return (\n      <div className={'section gf-form-group'}>\n        <div className={'gf-form-inline'}>\n          <Select\n            isLoading={this.state.loadingInstallations}\n            width={65}\n            getOptionLabel={this.getInstallationOptionLabel}\n            options={this.state.installations.map(installation => {\n              return { value: installation };\n            })}\n            menuPlacement={'bottom'}\n            onChange={this.onSelectInstallation}\n            value={this.state.selectedInstallation}\n          />\n        </div>\n        <div className={'gf-form-inline,ui-list'}>\n          {query.meta.map((value, idx) => {\n            return (\n              <FilterEntry\n                key={idx}\n                idx={idx}\n                data={value}\n                onDelete={this.onMetaDelete}\n                onUpdate={this.onMetaUpdate}\n                keys={this.getMetaKeys()}\n                values={this.getMetaValues(value.key)}\n              />\n            );\n          })}\n        </div>\n        <div className={'gf-form-inline'} style={{ paddingBottom: 10 }}>\n          <Button onClick={this.addFilter}>Add filter</Button>\n        </div>\n        <div className={'gf-form-inline'}>\n          <FormField\n            labelWidth={40}\n            label={'Group by'}\n            onChange={this.onGroupByChange}\n            value={query.groupBy}\n            tooltip={this.tooltipGroupBy}\n          />\n          <FormField\n            labelWidth={40}\n            label={'Name by'}\n            onChange={this.onNameByChange}\n            value={query.nameBy}\n            tooltip={this.tooltipNameBy}\n          />\n        </div>\n        <div className={'gf-form-inline'}>\n          <Switch label={'As table data'} checked={query.tabledata} onChange={this.onDatatable} />\n          <div hidden={!query.tabledata}>\n            <FormField\n              labelWidth={40}\n              label={'Message from'}\n              onChange={this.onMessageChange}\n              value={query.messageFrom}\n              tooltip={this.tooltipMessageFrom}\n            />\n            <FormField labelWidth={40} label={'Linked with'} onChange={this.onLinkChange} value={query.linkKey} />\n            <div>\n              <Switch label={'Meta to fields'} checked={query.metaAsFields} onChange={this.onMetaAsFields} />\n              <div hidden={!query.metaAsFields}>\n                <Switch label={'Add device meta'} checked={query.joinDeviceMeta} onChange={this.onDeviceMetaJoin} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <Switch label={'Current state only'} checked={query.stateOnly} onChange={this.onStateOnlyChange} />\n      </div>\n    );\n  }\n}\n","import { DataSource } from './DataSource';\nimport { ConfigEditor } from './ConfigEditor';\nimport { QueryEditor } from './QueryEditor';\nimport { MyQuery, MyDataSourceOptions } from './types';\nimport { DataSourcePlugin } from '@grafana/data';\n\nexport const plugin = new DataSourcePlugin<DataSource, MyQuery, MyDataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__305__","__WEBPACK_EXTERNAL_MODULE__545__","__WEBPACK_EXTERNAL_MODULE__388__","__WEBPACK_EXTERNAL_MODULE__650__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","DataSource","DataSourceWithBackend","fetchInstallations","getBackendSrv","datasourceRequest","method","url","this","settings","then","result","data","fetchFunctions","installationId","testDatasource","Promise","resolve","reject","status","message","catch","err","statusText","query","options","templateSrv","getTemplateSrv","targets","map","meta","replace","super","constructor","instanceSettings","FormField","LegacyForms","ConfigEditor","PureComponent","componentDidMount","render","props","jsonData","div","className","label","inputWidth","labelWidth","onChange","onURLChange","placeholder","onAPIKeyChange","apiKey","event","onOptionsChange","target","FilterEntry","shouldComponentUpdate","nextProps","nextState","nextContext","keys","values","x","push","span","Select","width","onChangeKey","onCreateOption","isSearchable","allowCustomValue","menuPlacement","onChangeValue","Button","variant","onClick","onDelete","onUpdate","idx","console","log","Switch","QueryEditor","datasource","installations","selectedInstallation","id","client_id","name","length","tmp","find","i","onSelectInstallation","setState","loadingInstallations","onRunQuery","state","ticker","clearTimeout","setTimeout","getInstallationOptionLabel","input","getMetaKeys","res","func","functions","metaKey","indexOf","getMetaValues","type","toString","clientId","isLoading","getOptionLabel","installation","onMetaDelete","onMetaUpdate","style","paddingBottom","addFilter","onGroupByChange","groupBy","tooltip","tooltipGroupBy","onNameByChange","nameBy","tooltipNameBy","checked","tabledata","onDatatable","hidden","onMessageChange","messageFrom","tooltipMessageFrom","onLinkChange","linkKey","metaAsFields","onMetaAsFields","joinDeviceMeta","onDeviceMetaJoin","stateOnly","onStateOnlyChange","selected","Number","filter","fidx","code","br","plugin","DataSourcePlugin","setConfigEditor","setQueryEditor"],"sourceRoot":""}